<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of fkine</title>
  <meta name="keywords" content="fkine">
  <meta name="description" content="FKINE  Forward robot kinematics for serial link manipulator">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2003 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="./m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="./index.html">Home</a> &gt;  <a href="index.html">.</a> &gt; fkine.m</div>

<!--<table width="100%"><tr><td align="left"><a href="./index.html"><img alt="<" border="0" src="./left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for .&nbsp;<img alt=">" border="0" src="./right.png"></a></td></tr></table>-->

<h1>fkine
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="./up.png"></a></h2>
<div class="box"><strong>FKINE  Forward robot kinematics for serial link manipulator</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="./up.png"></a></h2>
<div class="box"><strong>function t = fkine(robot, q) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="./up.png"></a></h2>
<div class="fragment"><pre class="comment">FKINE  Forward robot kinematics for serial link manipulator

    TR = FKINE(ROBOT, Q)

 Computes the forward kinematics for each joint space point defined by Q.
 ROBOT is a robot object.

 For an n-axis manipulator Q is an n element vector or an m x n matrix of
 robot joint coordinates.
 
 If Q is a vector it is interpretted as the generalized joint coordinates, and
 FKINE(ROBOT, Q) returns a 4x4 homogeneous transformation for the tool of
 the manipulator.

 If Q is a matrix, the rows are interpretted as the generalized 
 joint coordinates for a sequence of points along a trajectory.  Q(i,j) is
 the j'th joint parameter for the i'th trajectory point.  In this case
 FKINE(ROBOT, Q) returns 3D matrix where the last subscript is the index
 along the path.

 The robot's base or tool transform, if present, are incorporated into the
 result.

 See also: LINK, ROBOT.</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="./up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(./matlabicon.gif)">
<li><a href="numcols.html" class="code" title="function c = numcols(m)">numcols</a>	NUMCOLS Return number of columns in matrix</li></ul>
This function is called by:
<ul style="list-style-image:url(./matlabicon.gif)">
<li><a href="drivebot.html" class="code" title="function drivebot(a,b)">drivebot</a>	DRIVEBOT Drive a graphical robot</li><li><a href="ikine.html" class="code" title="function qt = ikine(robot, tr, q, m)">ikine</a>	IKINE Inverse manipulator kinematics</li><li><a href="jacob0.html" class="code" title="function J0 = jacob0(robot, q)">jacob0</a>	JACOB0 Compute manipulator Jacobian in world coordinates</li></ul>
<!-- crossreference -->


<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="./up.png"></a></h2>
<div class="fragment"><pre>0001 <span class="comment">%FKINE  Forward robot kinematics for serial link manipulator</span>
0002 <span class="comment">%</span>
0003 <span class="comment">%    TR = FKINE(ROBOT, Q)</span>
0004 <span class="comment">%</span>
0005 <span class="comment">% Computes the forward kinematics for each joint space point defined by Q.</span>
0006 <span class="comment">% ROBOT is a robot object.</span>
0007 <span class="comment">%</span>
0008 <span class="comment">% For an n-axis manipulator Q is an n element vector or an m x n matrix of</span>
0009 <span class="comment">% robot joint coordinates.</span>
0010 <span class="comment">%</span>
0011 <span class="comment">% If Q is a vector it is interpretted as the generalized joint coordinates, and</span>
0012 <span class="comment">% FKINE(ROBOT, Q) returns a 4x4 homogeneous transformation for the tool of</span>
0013 <span class="comment">% the manipulator.</span>
0014 <span class="comment">%</span>
0015 <span class="comment">% If Q is a matrix, the rows are interpretted as the generalized</span>
0016 <span class="comment">% joint coordinates for a sequence of points along a trajectory.  Q(i,j) is</span>
0017 <span class="comment">% the j'th joint parameter for the i'th trajectory point.  In this case</span>
0018 <span class="comment">% FKINE(ROBOT, Q) returns 3D matrix where the last subscript is the index</span>
0019 <span class="comment">% along the path.</span>
0020 <span class="comment">%</span>
0021 <span class="comment">% The robot's base or tool transform, if present, are incorporated into the</span>
0022 <span class="comment">% result.</span>
0023 <span class="comment">%</span>
0024 <span class="comment">% See also: LINK, ROBOT.</span>
0025 
0026 <span class="comment">% MOD HISTORY</span>
0027 <span class="comment">%     6/99    init tt to zeros rather than [], problem with cat() v 5.3</span>
0028 <span class="comment">% $Log: fkine.m,v $</span>
0029 <span class="comment">% Revision 1.3  2002-04-14 10:14:34  pic</span>
0030 <span class="comment">% Update comments.</span>
0031 <span class="comment">%</span>
0032 <span class="comment">% Revision 1.2  2002/04/01 11:47:13  pic</span>
0033 <span class="comment">% General cleanup of code: help comments, see also, copyright, remnant dh/dyn</span>
0034 <span class="comment">% references, clarification of functions.</span>
0035 <span class="comment">%</span>
0036 <span class="comment">% $Revision: 1.3 $</span>
0037 
0038 <span class="comment">% Copyright (C) 1993-2002, by Peter I. Corke</span>
0039 
0040 <a name="_sub0" href="#_subfunctions" class="code">function t = fkine(robot, q)</a>
0041     <span class="comment">%</span>
0042     <span class="comment">% evaluate fkine for each point on a trajectory of</span>
0043     <span class="comment">% theta_i or q_i data</span>
0044     <span class="comment">%</span>
0045 
0046     n = robot.n;
0047 
0048     L = robot.link;
0049     <span class="keyword">if</span> length(q) == n,
0050         t = robot.base;
0051         <span class="keyword">for</span> i=1:n,
0052             t = t * L{i}(q(i));
0053         <span class="keyword">end</span>
0054         t = t * robot.tool;
0055     <span class="keyword">else</span>
0056         <span class="keyword">if</span> <a href="numcols.html" class="code" title="function c = numcols(m)">numcols</a>(q) ~= n,
0057             error(<span class="string">'bad data'</span>)
0058         <span class="keyword">end</span>
0059         t = zeros(4,4,0);
0060         <span class="keyword">for</span> qv=q',        <span class="comment">% for each trajectory point</span>
0061             tt = robot.base;
0062             <span class="keyword">for</span> i=1:n,
0063                 tt = tt * L{i}(qv(i));
0064             <span class="keyword">end</span>
0065             t = cat(3, t, tt * robot.tool);
0066         <span class="keyword">end</span>
0067     <span class="keyword">end</span></pre></div>
<hr><address>Generated on Sun 18-May-2008 12:02:41 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/">m2html</a></strong> &copy; 2003</address>
</body>
</html>