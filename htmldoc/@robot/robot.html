<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of robot</title>
  <meta name="keywords" content="robot">
  <meta name="description" content="ROBOT Robot object constructor">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2003 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../index.html">Home</a> &gt;  <a href="#">@robot</a> &gt; robot.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../index.html"><img alt="<" border="0" src="../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for ./@robot&nbsp;<img alt=">" border="0" src="../right.png"></a></td></tr></table>-->

<h1>robot
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>ROBOT Robot object constructor</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>function r = robot(L, a1, a2, a3) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre class="comment">ROBOT Robot object constructor

    ROBOT            create a ROBOT object with no links
    ROBOT(robot)        create a copy of an existing ROBOT object
    ROBOT(robot, LINK)    replaces links for robot object
    ROBOT(LINK, ...)    create from a cell array of LINK objects
    ROBOT(DH, ...)        create from legacy DH matrix
    ROBOT(DYN, ...)        create from legacy DYN matrix

 Optional trailing arguments are:
     Name            robot type or name
     Manufacturer        who built it
     Comment            general comment

 If the legacy matrix forms are used the default name is the workspace
 matrix that held the data.

 See also: ROBOT/SUBSREF, ROBOT/SUBSASGN, LINK.</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../matlabicon.gif)">
</ul>
This function is called by:
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="mtimes.html" class="code" title="function r2 = mtimes(r, l)">mtimes</a>	MTIMES Multiply robot objects</li><li><a href="nofriction.html" class="code" title="function  r2 = nofriction(r, varargin)">nofriction</a>	NOFRICTION Return robot object with zero link friction</li><li><a href="perturb.html" class="code" title="function  r2 = perturb(r, p)">perturb</a>	PERTURB Return robot object with perturbed dynamic parameters</li><li><a href="plot.html" class="code" title="function rnew = plot(robot, tg, varargin)">plot</a>	PLOT Graphical robot animation</li><li><a href="rne.html" class="code" title="function tau = rne(robot, varargin)">rne</a>	RNE Compute inverse dynamics via recursive Newton-Euler formulation</li></ul>
<!-- crossreference -->


<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre>0001 <span class="comment">%ROBOT Robot object constructor</span>
0002 <span class="comment">%</span>
0003 <span class="comment">%    ROBOT            create a ROBOT object with no links</span>
0004 <span class="comment">%    ROBOT(robot)        create a copy of an existing ROBOT object</span>
0005 <span class="comment">%    ROBOT(robot, LINK)    replaces links for robot object</span>
0006 <span class="comment">%    ROBOT(LINK, ...)    create from a cell array of LINK objects</span>
0007 <span class="comment">%    ROBOT(DH, ...)        create from legacy DH matrix</span>
0008 <span class="comment">%    ROBOT(DYN, ...)        create from legacy DYN matrix</span>
0009 <span class="comment">%</span>
0010 <span class="comment">% Optional trailing arguments are:</span>
0011 <span class="comment">%     Name            robot type or name</span>
0012 <span class="comment">%     Manufacturer        who built it</span>
0013 <span class="comment">%     Comment            general comment</span>
0014 <span class="comment">%</span>
0015 <span class="comment">% If the legacy matrix forms are used the default name is the workspace</span>
0016 <span class="comment">% matrix that held the data.</span>
0017 <span class="comment">%</span>
0018 <span class="comment">% See also: ROBOT/SUBSREF, ROBOT/SUBSASGN, LINK.</span>
0019 
0020 
0021 <span class="comment">% $Log: robot.m,v $</span>
0022 <span class="comment">% Revision 1.4  2007-01-08 05:53:31  cor134</span>
0023 <span class="comment">% Improved see also comment</span>
0024 <span class="comment">%</span>
0025 <span class="comment">% Revision 1.3  2002/04/01 12:02:28  pic</span>
0026 <span class="comment">% General tidyup, comments, clarification, copyright, see also, RCS keys.</span>
0027 <span class="comment">%</span>
0028 <span class="comment">% $Revision: 1.4 $</span>
0029 <span class="comment">% Copyright (C) 1999-2002, by Peter I. Corke</span>
0030 
0031 <a name="_sub0" href="#_subfunctions" class="code">function r = robot(L, a1, a2, a3)</a>
0032 
0033     <span class="keyword">if</span> nargin == 0
0034         r.name = <span class="string">'noname'</span>;
0035         r.manuf = <span class="string">''</span>;
0036         r.comment = <span class="string">''</span>;
0037         r.link = {};
0038         r.n = 0;
0039         r.mdh = 0;
0040         r.gravity = [0; 0; 9.81];
0041         r.base = eye(4,4);
0042         r.tool = eye(4,4);
0043         r.handle = [];    <span class="comment">% graphics handles</span>
0044         r.q = [];    <span class="comment">% current joint angles</span>
0045         r.plotopt = {};
0046         r.lineopt = {<span class="string">'Color'</span>, <span class="string">'black'</span>, <span class="string">'Linewidth'</span>, 4};
0047         r.shadowopt = {<span class="string">'Color'</span>, <span class="string">'black'</span>, <span class="string">'Linewidth'</span>, 1};
0048         r = class(r, <span class="string">'robot'</span>);
0049     <span class="keyword">elseif</span> isa(L, <span class="string">'robot'</span>)
0050         r = L;
0051         <span class="keyword">if</span> nargin == 2,
0052             r.link = a1;
0053         <span class="keyword">end</span>
0054     <span class="keyword">else</span>
0055         <span class="comment">% assume arguments are: name, manuf, comment</span>
0056         <span class="keyword">if</span> nargin &gt; 1,
0057             r.name = a1;
0058         <span class="keyword">else</span>
0059             r.name = <span class="string">'noname'</span>;
0060         <span class="keyword">end</span>
0061         <span class="keyword">if</span> nargin &gt; 2,
0062             r.manuf = a2;
0063         <span class="keyword">else</span>
0064             r.manuf = <span class="string">''</span>;
0065         <span class="keyword">end</span>
0066         <span class="keyword">if</span> nargin &gt; 3,
0067             r.comment = a3;
0068         <span class="keyword">else</span>
0069             r.comment = <span class="string">''</span>;
0070         <span class="keyword">end</span>
0071 
0072         <span class="keyword">if</span> isa(L, <span class="string">'double'</span>)
0073             <span class="comment">% legacy matrix</span>
0074             dh_dyn = L;
0075             clear L
0076             <span class="keyword">for</span> j=1:numrows(dh_dyn)
0077                 L{j} = link(dh_dyn(j,:));
0078             <span class="keyword">end</span>
0079             <span class="comment">% get name of variable</span>
0080             r.name = inputname(1);
0081             r.link = L;
0082         <span class="keyword">elseif</span> iscell(L) &amp; isa(L{1}, <span class="string">'link'</span>)
0083 
0084             r.link = L;
0085         <span class="keyword">else</span>
0086             error(<span class="string">'unknown type passed to robot'</span>);
0087         <span class="keyword">end</span>
0088         r.n = length(L);
0089 
0090         <span class="comment">% set the robot object mdh status flag</span>
0091         mdh = [];
0092         <span class="keyword">for</span> j = 1:length(L)
0093             mdh = [mdh L{j}.mdh];
0094         <span class="keyword">end</span>
0095         <span class="keyword">if</span> all(mdh == 0)
0096             r.mdh = mdh(1);
0097         <span class="keyword">elseif</span> all (mdh == 1)
0098             r.mdh = mdh(1);
0099         <span class="keyword">else</span>
0100             error(<span class="string">'robot has mixed D&amp;H link conventions'</span>);
0101         <span class="keyword">end</span>
0102 
0103         <span class="comment">% fill in default base and gravity direction</span>
0104         r.gravity = [0; 0; 9.81];
0105         r.base = eye(4,4);
0106         r.tool = eye(4,4);
0107         r.handle = [];
0108         r.q = [];
0109         r.plotopt = {};
0110         r.lineopt = {<span class="string">'Color'</span>, <span class="string">'black'</span>, <span class="string">'Linewidth'</span>, 4};
0111         r.shadowopt = {<span class="string">'Color'</span>, <span class="string">'black'</span>, <span class="string">'Linewidth'</span>, 1};
0112 
0113         r = class(r, <span class="string">'robot'</span>);
0114     <span class="keyword">end</span></pre></div>
<hr><address>Generated on Sun 18-May-2008 12:02:41 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/">m2html</a></strong> &copy; 2003</address>
</body>
</html>