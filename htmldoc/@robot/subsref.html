<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of subsref</title>
  <meta name="keywords" content="subsref">
  <meta name="description" content="SUBSREF Reference methods on a ROBOT object">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2003 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../index.html">Home</a> &gt;  <a href="#">@robot</a> &gt; subsref.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../index.html"><img alt="<" border="0" src="../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for ./@robot&nbsp;<img alt=">" border="0" src="../right.png"></a></td></tr></table>-->

<h1>subsref
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>SUBSREF Reference methods on a ROBOT object</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>function v = subsref(r, s) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre class="comment">SUBSREF Reference methods on a ROBOT object

    ROBOT.n            return number of links
    ROBOT.link        return cell array of link objects
    ROBOT.gravity         return gravity vector
    ROBOT.base         return homog xform of robot base
    ROBOT.tool         return homog xform of robot tool
    ROBOT.qlim         return joint limit matrix
    ROBOT.offset         return joint offset vector
    ROBOT.mdh        return MDH convention boolean (0=DH, 1=MDH)

    ROBOT.islimit         return joint limit boolean vector

    ROBOT.name        return name of robot
    ROBOT.manuf        return who built it
    ROBOT.comment        return general comment
    ROBOT.config        return joint configuration string

    ROBOT.plotopt         return options for plot(robot)
    ROBOT.lineopt         return line drawing option string for links
    ROBOT.shadowopt     return line drawing option string for shadow
    ROBOT.handle        return graphics handles in object
    ROBOT.q         return joint angles for plot(robot)

    ROBOT.dh        return legacy DH matrix
    ROBOT.dyn        return legacy DYN matrix</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="char.html" class="code" title="function s = char(r)">char</a>	CHAR String representation of robot parametesrs</li></ul>
This function is called by:
<ul style="list-style-image:url(../matlabicon.gif)">
</ul>
<!-- crossreference -->


<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre>0001 <span class="comment">%SUBSREF Reference methods on a ROBOT object</span>
0002 <span class="comment">%</span>
0003 <span class="comment">%    ROBOT.n            return number of links</span>
0004 <span class="comment">%    ROBOT.link        return cell array of link objects</span>
0005 <span class="comment">%    ROBOT.gravity         return gravity vector</span>
0006 <span class="comment">%    ROBOT.base         return homog xform of robot base</span>
0007 <span class="comment">%    ROBOT.tool         return homog xform of robot tool</span>
0008 <span class="comment">%    ROBOT.qlim         return joint limit matrix</span>
0009 <span class="comment">%    ROBOT.offset         return joint offset vector</span>
0010 <span class="comment">%    ROBOT.mdh        return MDH convention boolean (0=DH, 1=MDH)</span>
0011 <span class="comment">%</span>
0012 <span class="comment">%    ROBOT.islimit         return joint limit boolean vector</span>
0013 <span class="comment">%</span>
0014 <span class="comment">%    ROBOT.name        return name of robot</span>
0015 <span class="comment">%    ROBOT.manuf        return who built it</span>
0016 <span class="comment">%    ROBOT.comment        return general comment</span>
0017 <span class="comment">%    ROBOT.config        return joint configuration string</span>
0018 <span class="comment">%</span>
0019 <span class="comment">%    ROBOT.plotopt         return options for plot(robot)</span>
0020 <span class="comment">%    ROBOT.lineopt         return line drawing option string for links</span>
0021 <span class="comment">%    ROBOT.shadowopt     return line drawing option string for shadow</span>
0022 <span class="comment">%    ROBOT.handle        return graphics handles in object</span>
0023 <span class="comment">%    ROBOT.q         return joint angles for plot(robot)</span>
0024 <span class="comment">%</span>
0025 <span class="comment">%    ROBOT.dh        return legacy DH matrix</span>
0026 <span class="comment">%    ROBOT.dyn        return legacy DYN matrix</span>
0027 
0028 <span class="comment">% $Log: subsref.m,v $</span>
0029 <span class="comment">% Revision 1.3  2007-01-21 06:14:40  cor134</span>
0030 <span class="comment">% Added config, dh and dyn methods</span>
0031 <span class="comment">%</span>
0032 <span class="comment">% Revision 1.2  2002/04/01 12:02:29  pic</span>
0033 <span class="comment">% General tidyup, comments, clarification, copyright, see also, RCS keys.</span>
0034 <span class="comment">%</span>
0035 <span class="comment">% $Revision: 1.3 $</span>
0036 <span class="comment">% Copyright (C) 1999-2002, by Peter I. Corke</span>
0037 
0038 <a name="_sub0" href="#_subfunctions" class="code">function v = subsref(r, s)</a>
0039 
0040     <span class="keyword">if</span> s(1).type  ~= <span class="string">'.'</span>
0041         <span class="comment">%error('only .field supported')</span>
0042     <span class="keyword">end</span>
0043 
0044     <span class="comment">% NOTE WELL:  the following code can't use getfield() since</span>
0045     <span class="comment">% getfield()  uses this, and Matlab will crash!!</span>
0046 
0047     el = <a href="char.html" class="code" title="function s = char(r)">char</a>(s(1).subs);
0048     <span class="keyword">switch</span> el,
0049     <span class="comment">%%%%%%%%% retrieve robot parameters</span>
0050     <span class="keyword">case</span> <span class="string">'n'</span>,
0051         v = r.n;
0052     <span class="keyword">case</span> <span class="string">'gravity'</span>
0053         v = r.gravity;
0054     <span class="keyword">case</span> <span class="string">'tool'</span>
0055         v = r.tool;
0056     <span class="keyword">case</span> <span class="string">'base'</span>
0057         v = r.base;
0058     <span class="keyword">case</span> <span class="string">'mdh'</span>,
0059         v = r.mdh;
0060 
0061     <span class="keyword">case</span> {<span class="string">'link'</span>, <span class="string">'links'</span>},
0062         <span class="keyword">if</span> length(s) == 1,
0063             v = r.link;
0064         <span class="keyword">elseif</span> s(2).type == <span class="string">'{}'</span>
0065             j = s(2).subs;
0066             j = j{1};
0067             <span class="keyword">if</span> (j &lt; 1) | (j &gt; r.n)
0068                 error(<span class="string">'link index out of bounds'</span>)
0069             <span class="keyword">end</span>
0070             v = r.link{j};
0071         <span class="keyword">end</span>
0072     <span class="keyword">case</span> <span class="string">'offset'</span>,
0073         L = r.link;
0074         v = [];
0075         <span class="keyword">for</span> i=1:r.n,
0076             v = [v; L{i}.offset];
0077         <span class="keyword">end</span>
0078     <span class="keyword">case</span> <span class="string">'qlim'</span>,
0079         L = r.link;
0080         v = [];
0081         <span class="keyword">for</span> i=1:r.n,
0082             v = [v; L{i}.qlim];
0083         <span class="keyword">end</span>
0084 
0085     <span class="comment">%%%%%%%%% descriptive strings</span>
0086     <span class="keyword">case</span> <span class="string">'name'</span>,
0087         v = r.name;
0088     <span class="keyword">case</span> <span class="string">'manuf'</span>,
0089         v = r.manuf;
0090     <span class="keyword">case</span> <span class="string">'comment'</span>,
0091         v = r.comment;
0092     <span class="keyword">case</span> <span class="string">'config'</span>,
0093         L = r.link;
0094         v = <span class="string">''</span>;
0095         <span class="keyword">for</span> i=1:r.n,
0096             v(i) = L{i}.RP;
0097         <span class="keyword">end</span>
0098 
0099     <span class="comment">%%%%%%%%% joint limit test</span>
0100     <span class="keyword">case</span> <span class="string">'islimit'</span>,
0101         L = r.link;
0102         <span class="keyword">if</span> s(2).type  ~= <span class="string">'()'</span>
0103             error(<span class="string">'expecting argument for islimit method'</span>);
0104         <span class="keyword">end</span>
0105         q = s(2).subs{1};
0106         <span class="keyword">if</span> length(q) ~= r.n,
0107             error(<span class="string">'argument for islimit method is wrong length'</span>);
0108         <span class="keyword">end</span>
0109         v = [];
0110         <span class="keyword">for</span> i=1:r.n,
0111             v = [v; L{i}.islimit(q(i))];
0112         <span class="keyword">end</span>
0113     <span class="comment">%%%%%%%%% legacy DH/DYN support</span>
0114     <span class="keyword">case</span> <span class="string">'dh'</span>,
0115         v = [];
0116         L = r.link;
0117         <span class="keyword">for</span> i=1:r.n,
0118             v = [v; L{i}.dh];
0119         <span class="keyword">end</span>
0120     <span class="keyword">case</span> <span class="string">'dyn'</span>
0121         v = [];
0122         L = r.link;
0123         <span class="keyword">for</span> i=1:r.n,
0124             v = [v; L{i}.dyn];
0125         <span class="keyword">end</span>
0126 
0127     <span class="comment">%%%%%%%%% graphics support</span>
0128     <span class="keyword">case</span> <span class="string">'q'</span>,
0129         v = r.q;
0130     <span class="keyword">case</span> <span class="string">'plotopt'</span>,
0131         v = r.plotopt;
0132     <span class="keyword">case</span> <span class="string">'lineopt'</span>
0133         v = r.lineopt;
0134     <span class="keyword">case</span> <span class="string">'shadowopt'</span>
0135         v = r.shadowopt;
0136     <span class="keyword">case</span> {<span class="string">'show'</span>, <span class="string">'handle'</span>}
0137         v = r.handle';
0138     <span class="keyword">otherwise</span>, error(<span class="string">'Unknown method'</span>)
0139     <span class="keyword">end</span></pre></div>
<hr><address>Generated on Sun 18-May-2008 12:02:41 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/">m2html</a></strong> &copy; 2003</address>
</body>
</html>