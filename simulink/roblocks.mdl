Library {
  Name			  "roblocks"
  Version		  3.00
  BlockDataTips		  off
  BlockParametersDataTip  off
  BlockAttributesDataTip  off
  BlockPortWidthsDataTip  off
  BlockDescriptionStringDataTip	off
  BlockMaskParametersDataTip off
  ToolBar		  off
  StatusBar		  off
  BrowserShowLibraryLinks off
  BrowserLookUnderMasks	  off
  Created		  "Tue Nov  6 20:25:41 2001"
  Creator		  "pic"
  UpdateHistory		  "UpdateHistoryNever"
  ModifiedByFormat	  "%<Auto>"
  LastModifiedBy	  "pic"
  ModifiedDateFormat	  "%<Auto>"
  LastModifiedDate	  "Sat Jan 26 12:06:19 2002"
  ModelVersionFormat	  "1.%<AutoIncrement:11>"
  ConfigurationManager	  "none"
  BlockDefaults {
    Orientation		    "right"
    ForegroundColor	    "black"
    BackgroundColor	    "white"
    DropShadow		    off
    NamePlacement	    "normal"
    FontName		    "Helvetica"
    FontSize		    10
    FontWeight		    "normal"
    FontAngle		    "normal"
    ShowName		    on
  }
  AnnotationDefaults {
    HorizontalAlignment	    "center"
    VerticalAlignment	    "middle"
    ForegroundColor	    "black"
    BackgroundColor	    "white"
    DropShadow		    off
    FontName		    "Helvetica"
    FontSize		    10
    FontWeight		    "normal"
    FontAngle		    "normal"
  }
  LineDefaults {
    FontName		    "Helvetica"
    FontSize		    9
    FontWeight		    "normal"
    FontAngle		    "normal"
  }
  System {
    Name		    "roblocks"
    Location		    [22, 131, 819, 477]
    Open		    on
    ModelBrowserVisibility  off
    ModelBrowserWidth	    200
    ScreenColor		    "lightBlue"
    PaperOrientation	    "landscape"
    PaperPositionMode	    "auto"
    PaperType		    "usletter"
    PaperUnits		    "inches"
    ZoomFactor		    "100"
    AutoZoom		    off
    ReportName		    "simulink-default.rpt"
    Block {
      BlockType		      SubSystem
      Name		      "Robot"
      Ports		      [1, 3, 0, 0, 0]
      Position		      [35, 79, 150, 151]
      BackgroundColor	      "red"
      DropShadow	      on
      ShowPortLabels	      on
      MaskDescription	      "Rigid-body dynamic model of robot."
      MaskHelp		      "Simulates the forward (direct) rigid-body dynam"
"ics of the robot described by the given robot object.\n"
      MaskPromptString	      "Robot object|Initial state"
      MaskStyleString	      "edit,edit"
      MaskTunableValueString  "on,on"
      MaskCallbackString      "|"
      MaskEnableString	      "on,on"
      MaskVisibilityString    "on,on"
      MaskVariables	      "robot=@1;q0=@2;"
      MaskInitialization      "n = robot.n;\nname = robot.name;\n"
      MaskDisplay	      "port_label('input', 1, 'tau')\nport_label('outp"
"ut', 1, 'q')\nport_label('output', 2, 'qd')\nport_label('output', 3, 'qdd')\n"
"text(0.1, 0.9,  robot.name, 'horizontalAlignment', 'left')\n\n"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "normalized"
      MaskValueString	      "robot|[0 0 0 0 0 0]"
      System {
	Name			"Robot"
	Location		[436, 48, 968, 276]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	AutoZoom		on
	Block {
	  BlockType		  Inport
	  Name			  "tau"
	  Position		  [20, 98, 50, 112]
	  Port			  "1"
	  PortWidth		  "-1"
	  SampleTime		  "-1"
	  DataType		  "auto"
	  SignalType		  "auto"
	  Interpolate		  on
	}
	Block {
	  BlockType		  Integrator
	  Name			  "Integrator"
	  Ports			  [1, 1, 0, 0, 0]
	  Position		  [265, 65, 295, 95]
	  ShowName		  off
	  ExternalReset		  "none"
	  InitialConditionSource  "internal"
	  InitialCondition	  "0"
	  LimitOutput		  off
	  UpperSaturationLimit	  "inf"
	  LowerSaturationLimit	  "-inf"
	  ShowSaturationPort	  off
	  ShowStatePort		  off
	  AbsoluteTolerance	  "auto"
	  Port {
	    PortNumber		    1
	    Name		    "qd"
	    TestPoint		    off
	    RTWStorageClass	    "Auto"
	  }
	}
	Block {
	  BlockType		  Integrator
	  Name			  "Integrator1"
	  Ports			  [1, 1, 0, 0, 0]
	  Position		  [345, 65, 375, 95]
	  ShowName		  off
	  ExternalReset		  "none"
	  InitialConditionSource  "internal"
	  InitialCondition	  "0"
	  LimitOutput		  off
	  UpperSaturationLimit	  "inf"
	  LowerSaturationLimit	  "-inf"
	  ShowSaturationPort	  off
	  ShowStatePort		  off
	  AbsoluteTolerance	  "auto"
	}
	Block {
	  BlockType		  MATLABFcn
	  Name			  "MATLAB Fcn"
	  Position		  [155, 65, 215, 95]
	  MATLABFcn		  "accel(robot, u)"
	  OutputWidth		  "n"
	  OutputSignalType	  "real"
	  Port {
	    PortNumber		    1
	    Name		    "qdd"
	    TestPoint		    off
	    RTWStorageClass	    "Auto"
	  }
	}
	Block {
	  BlockType		  Mux
	  Name			  "Mux"
	  Ports			  [3, 1, 0, 0, 0]
	  Position		  [105, 44, 115, 116]
	  ShowName		  off
	  Inputs		  "3"
	  DisplayOption		  "bar"
	}
	Block {
	  BlockType		  Outport
	  Name			  "q"
	  Position		  [435, 73, 465, 87]
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Block {
	  BlockType		  Outport
	  Name			  "qd"
	  Position		  [440, 128, 470, 142]
	  Port			  "2"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Block {
	  BlockType		  Outport
	  Name			  "qdd"
	  Position		  [440, 173, 470, 187]
	  Port			  "3"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Line {
	  Name			  "qdd"
	  Labels		  [0, 0]
	  SrcBlock		  "MATLAB Fcn"
	  SrcPort		  1
	  Points		  [30, 0]
	  Branch {
	    Points		    [0, 100]
	    DstBlock		    "qdd"
	    DstPort		    1
	  }
	  Branch {
	    DstBlock		    "Integrator"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "Mux"
	  SrcPort		  1
	  DstBlock		  "MATLAB Fcn"
	  DstPort		  1
	}
	Line {
	  Name			  "qd"
	  Labels		  [0, 0]
	  SrcBlock		  "Integrator"
	  SrcPort		  1
	  Points		  [30, 0]
	  Branch {
	    Points		    [0, 55]
	    DstBlock		    "qd"
	    DstPort		    1
	  }
	  Branch {
	    DstBlock		    "Integrator1"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [0, -50; -285, 0; 0, 50]
	    DstBlock		    "Mux"
	    DstPort		    2
	  }
	}
	Line {
	  SrcBlock		  "tau"
	  SrcPort		  1
	  DstBlock		  "Mux"
	  DstPort		  3
	}
	Line {
	  SrcBlock		  "Integrator1"
	  SrcPort		  1
	  Points		  [25, 0]
	  Branch {
	    DstBlock		    "q"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [0, -60; -325, 0; 0, 35]
	    DstBlock		    "Mux"
	    DstPort		    1
	  }
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "T2eul"
      Ports		      [1, 3, 0, 0, 0]
      Position		      [705, 227, 755, 283]
      BackgroundColor	      "red"
      ShowPortLabels	      on
      MaskDescription	      "Convert transform to Euler angles."
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "normalized"
      System {
	Name			"T2eul"
	Location		[167, 513, 531, 662]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	AutoZoom		on
	Block {
	  BlockType		  Inport
	  Name			  "T"
	  Position		  [30, 63, 60, 77]
	  Port			  "1"
	  PortWidth		  "-1"
	  SampleTime		  "-1"
	  DataType		  "auto"
	  SignalType		  "auto"
	  Interpolate		  on
	}
	Block {
	  BlockType		  Demux
	  Name			  "Demux"
	  Ports			  [1, 3, 0, 0, 0]
	  Position		  [225, 13, 230, 127]
	  BackgroundColor	  "black"
	  ShowName		  off
	  Outputs		  "3"
	}
	Block {
	  BlockType		  MATLABFcn
	  Name			  "MATLAB Fcn"
	  Position		  [105, 55, 165, 85]
	  MATLABFcn		  "tr2eul(reshape(u,4,4))"
	  OutputWidth		  "3"
	  OutputSignalType	  "auto"
	}
	Block {
	  BlockType		  Outport
	  Name			  "a"
	  Position		  [265, 23, 295, 37]
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Block {
	  BlockType		  Outport
	  Name			  "b"
	  Position		  [255, 63, 285, 77]
	  Port			  "2"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Block {
	  BlockType		  Outport
	  Name			  "c"
	  Position		  [255, 103, 285, 117]
	  Port			  "3"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Line {
	  SrcBlock		  "Demux"
	  SrcPort		  3
	  DstBlock		  "c"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Demux"
	  SrcPort		  2
	  DstBlock		  "b"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Demux"
	  SrcPort		  1
	  DstBlock		  "a"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "MATLAB Fcn"
	  SrcPort		  1
	  DstBlock		  "Demux"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "T"
	  SrcPort		  1
	  DstBlock		  "MATLAB Fcn"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "T2rpy"
      Ports		      [1, 3, 0, 0, 0]
      Position		      [705, 147, 755, 203]
      BackgroundColor	      "red"
      ShowPortLabels	      on
      MaskDescription	      "Convert transform to roll/pitch/yaw angles."
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "normalized"
      System {
	Name			"T2rpy"
	Location		[167, 513, 531, 662]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	AutoZoom		on
	Block {
	  BlockType		  Inport
	  Name			  "T"
	  Position		  [30, 63, 60, 77]
	  Port			  "1"
	  PortWidth		  "-1"
	  SampleTime		  "-1"
	  DataType		  "auto"
	  SignalType		  "auto"
	  Interpolate		  on
	}
	Block {
	  BlockType		  Demux
	  Name			  "Demux"
	  Ports			  [1, 3, 0, 0, 0]
	  Position		  [225, 13, 230, 127]
	  BackgroundColor	  "black"
	  ShowName		  off
	  Outputs		  "3"
	}
	Block {
	  BlockType		  MATLABFcn
	  Name			  "MATLAB Fcn"
	  Position		  [105, 55, 165, 85]
	  MATLABFcn		  "tr2rpy(reshape(u,4,4))"
	  OutputWidth		  "3"
	  OutputSignalType	  "auto"
	}
	Block {
	  BlockType		  Outport
	  Name			  "roll"
	  Position		  [265, 23, 295, 37]
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Block {
	  BlockType		  Outport
	  Name			  "pitch"
	  Position		  [255, 63, 285, 77]
	  Port			  "2"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Block {
	  BlockType		  Outport
	  Name			  "yaw"
	  Position		  [255, 103, 285, 117]
	  Port			  "3"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Line {
	  SrcBlock		  "Demux"
	  SrcPort		  3
	  DstBlock		  "yaw"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Demux"
	  SrcPort		  2
	  DstBlock		  "pitch"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Demux"
	  SrcPort		  1
	  DstBlock		  "roll"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "MATLAB Fcn"
	  SrcPort		  1
	  DstBlock		  "Demux"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "T"
	  SrcPort		  1
	  DstBlock		  "MATLAB Fcn"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "T2xyz"
      Ports		      [1, 3, 0, 0, 0]
      Position		      [700, 77, 750, 133]
      BackgroundColor	      "red"
      ShowPortLabels	      on
      MaskDescription	      "Convert transform to xyz scalars"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "normalized"
      System {
	Name			"T2xyz"
	Location		[167, 513, 531, 662]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	AutoZoom		on
	Block {
	  BlockType		  Inport
	  Name			  "T"
	  Position		  [30, 63, 60, 77]
	  Port			  "1"
	  PortWidth		  "-1"
	  SampleTime		  "-1"
	  DataType		  "auto"
	  SignalType		  "auto"
	  Interpolate		  on
	}
	Block {
	  BlockType		  Demux
	  Name			  "Demux"
	  Ports			  [1, 3, 0, 0, 0]
	  Position		  [225, 13, 230, 127]
	  BackgroundColor	  "black"
	  ShowName		  off
	  Outputs		  "3"
	}
	Block {
	  BlockType		  MATLABFcn
	  Name			  "MATLAB Fcn"
	  Position		  [105, 55, 165, 85]
	  MATLABFcn		  "transl(reshape(u,4,4))"
	  OutputWidth		  "3"
	  OutputSignalType	  "auto"
	}
	Block {
	  BlockType		  Outport
	  Name			  "x"
	  Position		  [265, 23, 295, 37]
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Block {
	  BlockType		  Outport
	  Name			  "y"
	  Position		  [255, 63, 285, 77]
	  Port			  "2"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Block {
	  BlockType		  Outport
	  Name			  "z"
	  Position		  [255, 103, 285, 117]
	  Port			  "3"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Line {
	  SrcBlock		  "T"
	  SrcPort		  1
	  DstBlock		  "MATLAB Fcn"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "MATLAB Fcn"
	  SrcPort		  1
	  DstBlock		  "Demux"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Demux"
	  SrcPort		  1
	  DstBlock		  "x"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Demux"
	  SrcPort		  2
	  DstBlock		  "y"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Demux"
	  SrcPort		  3
	  DstBlock		  "z"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "eul2T"
      Ports		      [3, 1, 0, 0, 0]
      Position		      [630, 228, 680, 282]
      BackgroundColor	      "red"
      ShowPortLabels	      on
      MaskDescription	      "Convert Euler angles to transform."
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "normalized"
      System {
	Name			"eul2T"
	Location		[167, 513, 531, 662]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	AutoZoom		on
	Block {
	  BlockType		  Inport
	  Name			  "a"
	  Position		  [25, 33, 55, 47]
	  Port			  "1"
	  PortWidth		  "-1"
	  SampleTime		  "-1"
	  DataType		  "auto"
	  SignalType		  "auto"
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "b"
	  Position		  [25, 68, 55, 82]
	  Port			  "2"
	  PortWidth		  "-1"
	  SampleTime		  "-1"
	  DataType		  "auto"
	  SignalType		  "auto"
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "c"
	  Position		  [25, 103, 55, 117]
	  Port			  "3"
	  PortWidth		  "-1"
	  SampleTime		  "-1"
	  DataType		  "auto"
	  SignalType		  "auto"
	  Interpolate		  on
	}
	Block {
	  BlockType		  MATLABFcn
	  Name			  "MATLAB Fcn"
	  Position		  [120, 60, 180, 90]
	  MATLABFcn		  "reshape(eul2tr(u),1,16)"
	  OutputWidth		  "16"
	  OutputSignalType	  "auto"
	}
	Block {
	  BlockType		  Mux
	  Name			  "Mux"
	  Ports			  [3, 1, 0, 0, 0]
	  Position		  [85, 20, 90, 130]
	  ShowName		  off
	  Inputs		  "3"
	  DisplayOption		  "bar"
	}
	Block {
	  BlockType		  Outport
	  Name			  "T"
	  Position		  [225, 68, 255, 82]
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Line {
	  SrcBlock		  "c"
	  SrcPort		  1
	  DstBlock		  "Mux"
	  DstPort		  3
	}
	Line {
	  SrcBlock		  "MATLAB Fcn"
	  SrcPort		  1
	  DstBlock		  "T"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Mux"
	  SrcPort		  1
	  DstBlock		  "MATLAB Fcn"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "a"
	  SrcPort		  1
	  DstBlock		  "Mux"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "b"
	  SrcPort		  1
	  DstBlock		  "Mux"
	  DstPort		  2
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "fkine"
      Ports		      [1, 1, 0, 0, 0]
      Position		      [425, 262, 475, 318]
      BackgroundColor	      "red"
      ShowPortLabels	      on
      MaskDescription	      "Robot forward kinematics."
      MaskHelp		      "Compute homogeneous transform for robot end-eff"
"ector given joint angles."
      MaskPromptString	      "Robot object"
      MaskStyleString	      "edit"
      MaskTunableValueString  "on"
      MaskEnableString	      "on"
      MaskVisibilityString    "on"
      MaskVariables	      "robot=@1;"
      MaskDisplay	      "port_label('input', 1, 'q')\nport_label('output"
"', 1, 'T')\ntext(0.9, 0.9, robot.name,  'horizontalAlignment', 'right')\n"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "normalized"
      MaskValueString	      "robot"
      System {
	Name			"fkine"
	Location		[167, 513, 531, 662]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	AutoZoom		on
	Block {
	  BlockType		  Inport
	  Name			  "q"
	  Position		  [55, 68, 85, 82]
	  Port			  "1"
	  PortWidth		  "-1"
	  SampleTime		  "-1"
	  DataType		  "auto"
	  SignalType		  "auto"
	  Interpolate		  on
	}
	Block {
	  BlockType		  MATLABFcn
	  Name			  "MATLAB Fcn"
	  Position		  [120, 60, 180, 90]
	  MATLABFcn		  "reshape(fkine(robot,u),1,16)"
	  OutputWidth		  "16"
	  OutputSignalType	  "auto"
	}
	Block {
	  BlockType		  Outport
	  Name			  "T"
	  Position		  [225, 68, 255, 82]
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Line {
	  SrcBlock		  "q"
	  SrcPort		  1
	  DstBlock		  "MATLAB Fcn"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "MATLAB Fcn"
	  SrcPort		  1
	  DstBlock		  "T"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "ijacob"
      Ports		      [2, 1, 0, 0, 0]
      Position		      [525, 163, 590, 232]
      BackgroundColor	      "red"
      ShowPortLabels	      on
      MaskDescription	      "Robot inverse Jacobian for world coordinates.\n"
"\nOnly valid for square jacobians (ie/ 6DOF robots)"
      MaskPromptString	      "Robot object"
      MaskStyleString	      "edit"
      MaskTunableValueString  "on"
      MaskEnableString	      "on"
      MaskVisibilityString    "on"
      MaskVariables	      "robot=@1;"
      MaskInitialization      "n=robot.n;"
      MaskDisplay	      "text(0.4, 0.7, 'J', 'verticalAlignment', 'top',"
" 'horizontalAlignment', 'left')\ntext(0.4, 0.65, '0', 'verticalAlignment', 'b"
"ottom', 'horizontalAlignment', 'right')\ntext(0.65, 0.65, '-1', 'verticalAlig"
"nment', 'bottom', 'horizontalAlignment', 'right')\ntext(1, 0.2, robot.name,  "
"'horizontalAlignment', 'right')\nport_label('input', 1, 'q');\nport_label('in"
"put', 2, 'dx')\nport_label('output', 1, 'qd')\n"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "normalized"
      MaskValueString	      "robot"
      System {
	Name			"ijacob"
	Location		[4, 127, 368, 276]
	Open			on
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	AutoZoom		on
	Block {
	  BlockType		  Inport
	  Name			  "q"
	  Position		  [20, 23, 50, 37]
	  Port			  "1"
	  PortWidth		  "-1"
	  SampleTime		  "-1"
	  DataType		  "auto"
	  SignalType		  "auto"
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "dq"
	  Position		  [20, 68, 50, 82]
	  Port			  "2"
	  PortWidth		  "-1"
	  SampleTime		  "-1"
	  DataType		  "auto"
	  SignalType		  "auto"
	  Interpolate		  on
	}
	Block {
	  BlockType		  Mux
	  Name			  "Mux"
	  Ports			  [2, 1, 0, 0, 0]
	  Position		  [85, 21, 90, 59]
	  ShowName		  off
	  Inputs		  "2"
	  DisplayOption		  "bar"
	}
	Block {
	  BlockType		  MATLABFcn
	  Name			  "inverse\njacobian"
	  Position		  [125, 25, 185, 55]
	  MATLABFcn		  "inv(jacob0(robot, u(1:n)))*u(n+1:2*n)"
	  OutputWidth		  "6"
	  OutputSignalType	  "auto"
	}
	Block {
	  BlockType		  Outport
	  Name			  "dx"
	  Position		  [220, 33, 250, 47]
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Line {
	  SrcBlock		  "dq"
	  SrcPort		  1
	  Points		  [15, 0]
	  DstBlock		  "Mux"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "q"
	  SrcPort		  1
	  DstBlock		  "Mux"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Mux"
	  SrcPort		  1
	  DstBlock		  "inverse\njacobian"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "inverse\njacobian"
	  SrcPort		  1
	  DstBlock		  "dx"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "jacob0"
      Ports		      [2, 1, 0, 0, 0]
      Position		      [425, 163, 490, 232]
      BackgroundColor	      "red"
      ShowPortLabels	      on
      MaskDescription	      "Robot Jacobian for end-effector coordinates"
      MaskPromptString	      "Robot object"
      MaskStyleString	      "edit"
      MaskTunableValueString  "on"
      MaskEnableString	      "on"
      MaskVisibilityString    "on"
      MaskVariables	      "robot=@1;"
      MaskDisplay	      "text(0.4, 0.7, 'J', 'verticalAlignment', 'top',"
" 'horizontalAlignment', 'left')\ntext(0.4, 0.7, '0', 'verticalAlignment', 'bo"
"ttom', 'horizontalAlignment', 'right')\ntext(0.5, 0.2, robot.name,  'horizont"
"alAlignment', 'center')"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "normalized"
      MaskValueString	      "robot"
      System {
	Name			"jacob0"
	Location		[167, 513, 531, 662]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	AutoZoom		on
	Block {
	  BlockType		  Inport
	  Name			  "q"
	  Position		  [20, 23, 50, 37]
	  Port			  "1"
	  PortWidth		  "-1"
	  SampleTime		  "-1"
	  DataType		  "auto"
	  SignalType		  "auto"
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "dq"
	  Position		  [20, 68, 50, 82]
	  Port			  "2"
	  PortWidth		  "-1"
	  SampleTime		  "-1"
	  DataType		  "auto"
	  SignalType		  "auto"
	  Interpolate		  on
	}
	Block {
	  BlockType		  Mux
	  Name			  "Mux"
	  Ports			  [2, 1, 0, 0, 0]
	  Position		  [85, 21, 90, 59]
	  ShowName		  off
	  Inputs		  "2"
	  DisplayOption		  "bar"
	}
	Block {
	  BlockType		  Fcn
	  Name			  "jacob0"
	  Position		  [105, 25, 165, 55]
	  Expr			  "jacob0(robot, u(1))*u(2)"
	}
	Block {
	  BlockType		  Outport
	  Name			  "dx"
	  Position		  [220, 33, 250, 47]
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Line {
	  SrcBlock		  "jacob0"
	  SrcPort		  1
	  DstBlock		  "dx"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Mux"
	  SrcPort		  1
	  DstBlock		  "jacob0"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "q"
	  SrcPort		  1
	  DstBlock		  "Mux"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "dq"
	  SrcPort		  1
	  Points		  [15, 0]
	  DstBlock		  "Mux"
	  DstPort		  2
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "jacobn"
      Ports		      [2, 1, 0, 0, 0]
      Position		      [425, 78, 490, 142]
      BackgroundColor	      "red"
      ShowPortLabels	      on
      MaskDescription	      "Robot Jacobian for end-effector coordinates"
      MaskPromptString	      "Robot object|World coordinate frame"
      MaskStyleString	      "edit,checkbox"
      MaskTunableValueString  "on,on"
      MaskCallbackString      "|"
      MaskEnableString	      "on,on"
      MaskVisibilityString    "on,on"
      MaskVariables	      "robot=@1;world=@2;"
      MaskDisplay	      "text(0.5, 0.4, 'J', 'verticalAlignment', 'top',"
" 'horizontalAlignment', 'left')\ntext(0.5, 0.4, 'n', 'verticalAlignment', 'bo"
"ttom', 'horizontalAlignment', 'right')\ntext(0.9, 0.9, robot.name,  'horizont"
"alAlignment', 'right')\nport_label('input', 1, 'q')\nport_label('input', 2, '"
"qd')\nport_label('output', 1, 'xd')"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "normalized"
      MaskValueString	      "robot|off"
      System {
	Name			"jacobn"
	Location		[167, 513, 531, 662]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	AutoZoom		on
	Block {
	  BlockType		  Inport
	  Name			  "q"
	  Position		  [20, 23, 50, 37]
	  Port			  "1"
	  PortWidth		  "-1"
	  SampleTime		  "-1"
	  DataType		  "auto"
	  SignalType		  "auto"
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "dq"
	  Position		  [20, 68, 50, 82]
	  Port			  "2"
	  PortWidth		  "-1"
	  SampleTime		  "-1"
	  DataType		  "auto"
	  SignalType		  "auto"
	  Interpolate		  on
	}
	Block {
	  BlockType		  Mux
	  Name			  "Mux"
	  Ports			  [2, 1, 0, 0, 0]
	  Position		  [85, 21, 90, 59]
	  ShowName		  off
	  Inputs		  "2"
	  DisplayOption		  "bar"
	}
	Block {
	  BlockType		  Fcn
	  Name			  "jacob0"
	  Position		  [105, 25, 165, 55]
	  Expr			  "jacob0(robot, u(1))*u(2)"
	}
	Block {
	  BlockType		  Outport
	  Name			  "dx"
	  Position		  [220, 33, 250, 47]
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Line {
	  SrcBlock		  "dq"
	  SrcPort		  1
	  Points		  [15, 0]
	  DstBlock		  "Mux"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "q"
	  SrcPort		  1
	  DstBlock		  "Mux"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Mux"
	  SrcPort		  1
	  DstBlock		  "jacob0"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "jacob0"
	  SrcPort		  1
	  DstBlock		  "dx"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "jtraj"
      Ports		      [0, 3, 0, 0, 0]
      Position		      [315, 81, 365, 149]
      BackgroundColor	      "red"
      ShowPortLabels	      on
      MaskDescription	      "Joint interpolated trajectory."
      MaskHelp		      "Generate quintic polynomial to move from initia"
"l to final joint angles as specified.  Initial and final velocity are assumed"
" to be zero.\n\nOutputs joint angles as well as joint angle rates."
      MaskPromptString	      "q0|qf|tmax"
      MaskStyleString	      "edit,edit,edit"
      MaskTunableValueString  "on,on,on"
      MaskCallbackString      "||"
      MaskEnableString	      "on,on,on"
      MaskVisibilityString    "on,on,on"
      MaskVariables	      "q0=@1;qf=@2;tmax=@3;"
      MaskInitialization      "n = length(q0);\nif length(q0) ~= length(qf) ,"
"\n error('q0 and qf must be same length')\nend\nt=[0:100]'/100*tmax;\n[q,qd,q"
"dd] = jtraj(q0, qf, t);"
      MaskDisplay	      "port_label('output', 1, 'q')\nport_label('outpu"
"t', 2, 'qd')\nport_label('output', 3, 'qdd')"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "normalized"
      MaskValueString	      "[0 0 0 0 0 0]|[pi/4 pi/2 -pi/2 0 0 0]|10"
      System {
	Name			"jtraj"
	Location		[521, 478, 885, 669]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	AutoZoom		on
	Block {
	  BlockType		  Clock
	  Name			  "Clock"
	  Position		  [20, 30, 40, 50]
	  DisplayTime		  off
	  Decimation		  "10"
	}
	Block {
	  BlockType		  MATLABFcn
	  Name			  "MATLAB Fcn"
	  Position		  [105, 25, 165, 55]
	  MATLABFcn		  "interp1(t,q,u)"
	  OutputWidth		  "n"
	  OutputSignalType	  "auto"
	}
	Block {
	  BlockType		  MATLABFcn
	  Name			  "MATLAB Fcn1"
	  Position		  [110, 75, 170, 105]
	  MATLABFcn		  "interp1(t,qd,u)"
	  OutputWidth		  "n"
	  OutputSignalType	  "auto"
	}
	Block {
	  BlockType		  MATLABFcn
	  Name			  "MATLAB Fcn2"
	  Position		  [110, 125, 170, 155]
	  MATLABFcn		  "interp1(t,qdd,u)"
	  OutputWidth		  "n"
	  OutputSignalType	  "auto"
	}
	Block {
	  BlockType		  Outport
	  Name			  "q"
	  Position		  [220, 33, 250, 47]
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Block {
	  BlockType		  Outport
	  Name			  "qd"
	  Position		  [220, 83, 250, 97]
	  Port			  "2"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Block {
	  BlockType		  Outport
	  Name			  "qdd"
	  Position		  [220, 133, 250, 147]
	  Port			  "3"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Line {
	  SrcBlock		  "MATLAB Fcn"
	  SrcPort		  1
	  DstBlock		  "q"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "MATLAB Fcn1"
	  SrcPort		  1
	  DstBlock		  "qd"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Clock"
	  SrcPort		  1
	  Points		  [30, 0]
	  Branch {
	    DstBlock		    "MATLAB Fcn"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [0, 50]
	    Branch {
	      DstBlock		      "MATLAB Fcn1"
	      DstPort		      1
	    }
	    Branch {
	      Points		      [0, 50]
	      DstBlock		      "MATLAB Fcn2"
	      DstPort		      1
	    }
	  }
	}
	Line {
	  SrcBlock		  "MATLAB Fcn2"
	  SrcPort		  1
	  DstBlock		  "qdd"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "plot"
      Ports		      [1, 0, 0, 0, 0]
      Position		      [190, 82, 270, 138]
      BackgroundColor	      "red"
      ShowPortLabels	      on
      MaskDescription	      "Graphical robot display."
      MaskHelp		      "This block graphically displays the named robot"
      MaskPromptString	      "Name of robot"
      MaskStyleString	      "edit"
      MaskTunableValueString  "on"
      MaskEnableString	      "on"
      MaskVisibilityString    "on"
      MaskVariables	      "robot=@1;"
      MaskInitialization      "plot(robot,zeros(1,robot.n))"
      MaskDisplay	      "text(0.5, 0.5,  robot.name, 'horizontalAlignmen"
"t', 'center')"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "normalized"
      MaskValueString	      "robot"
      System {
	Name			"plot"
	Location		[219, 514, 484, 596]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	AutoZoom		on
	Block {
	  BlockType		  Inport
	  Name			  "q"
	  Position		  [25, 33, 55, 47]
	  Port			  "1"
	  PortWidth		  "-1"
	  SampleTime		  "-1"
	  DataType		  "auto"
	  SignalType		  "auto"
	  Interpolate		  on
	}
	Block {
	  BlockType		  "S-Function"
	  Name			  "S-Function"
	  Ports			  [1, 0, 0, 0, 0]
	  Position		  [125, 25, 185, 55]
	  FunctionName		  "slplotbot"
	  Parameters		  "robot"
	  PortCounts		  "[]"
	  SFunctionModules	  "''"
	}
	Block {
	  BlockType		  Terminator
	  Name			  "Terminator"
	  Position		  [220, 30, 240, 50]
	}
	Line {
	  Points		  [190, 40]
	  DstBlock		  "Terminator"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "q"
	  SrcPort		  1
	  DstBlock		  "S-Function"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "rne"
      Ports		      [3, 1, 0, 0, 0]
      Position		      [35, 197, 130, 263]
      BackgroundColor	      "red"
      ShowPortLabels	      on
      MaskDescription	      "Rigid-body inverse dynamics."
      MaskHelp		      "Given a robot dynamic model and joint angle, ra"
"te and acceleration determine the required joint torque.  Useful for computed"
" and inverse torque control schemes."
      MaskPromptString	      "Robot object|Gravity"
      MaskStyleString	      "edit,edit"
      MaskTunableValueString  "on,on"
      MaskCallbackString      "|"
      MaskEnableString	      "on,on"
      MaskVisibilityString    "on,on"
      MaskVariables	      "robot=@1;grav=@2;"
      MaskInitialization      "n=robot.n;"
      MaskDisplay	      "port_label('output', 1, 'tau')\nport_label('inp"
"ut', 1, 'q')\nport_label('input', 2, 'qd')\nport_label('input', 3, 'qdd')\nte"
"xt(0.9, 0.9,  robot.name, 'horizontalAlignment', 'right')\n"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "normalized"
      MaskValueString	      "robot|[0 0 9.81]"
      System {
	Name			"rne"
	Location		[240, 487, 732, 638]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	AutoZoom		on
	Block {
	  BlockType		  Inport
	  Name			  "q"
	  Position		  [20, 33, 50, 47]
	  Port			  "1"
	  PortWidth		  "-1"
	  SampleTime		  "-1"
	  DataType		  "auto"
	  SignalType		  "auto"
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "qd"
	  Position		  [20, 73, 50, 87]
	  Port			  "2"
	  PortWidth		  "-1"
	  SampleTime		  "-1"
	  DataType		  "auto"
	  SignalType		  "auto"
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "qdd"
	  Position		  [15, 113, 45, 127]
	  Port			  "3"
	  PortWidth		  "-1"
	  SampleTime		  "-1"
	  DataType		  "auto"
	  SignalType		  "auto"
	  Interpolate		  on
	}
	Block {
	  BlockType		  MATLABFcn
	  Name			  "MATLAB Fcn"
	  Position		  [115, 66, 290, 94]
	  MATLABFcn		  "rne(robot, u(1:n)', u(n+1:2*n)', u(2*n+1:3*"
"n)')"
	  OutputWidth		  "n"
	  OutputSignalType	  "auto"
	}
	Block {
	  BlockType		  Mux
	  Name			  "Mux"
	  Ports			  [3, 1, 0, 0, 0]
	  Position		  [85, 21, 90, 139]
	  ShowName		  off
	  Inputs		  "3"
	  DisplayOption		  "bar"
	}
	Block {
	  BlockType		  Outport
	  Name			  "tau"
	  Position		  [370, 73, 400, 87]
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Line {
	  SrcBlock		  "Mux"
	  SrcPort		  1
	  DstBlock		  "MATLAB Fcn"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "q"
	  SrcPort		  1
	  DstBlock		  "Mux"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "qd"
	  SrcPort		  1
	  DstBlock		  "Mux"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "qdd"
	  SrcPort		  1
	  DstBlock		  "Mux"
	  DstPort		  3
	}
	Line {
	  SrcBlock		  "MATLAB Fcn"
	  SrcPort		  1
	  DstBlock		  "tau"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "rpy2T"
      Ports		      [3, 1, 0, 0, 0]
      Position		      [630, 148, 680, 202]
      BackgroundColor	      "red"
      ShowPortLabels	      on
      MaskDescription	      "Convert roll/pitch/yaw angles to transform."
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "normalized"
      System {
	Name			"rpy2T"
	Location		[167, 513, 531, 662]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	AutoZoom		on
	Block {
	  BlockType		  Inport
	  Name			  "roll"
	  Position		  [25, 33, 55, 47]
	  Port			  "1"
	  PortWidth		  "-1"
	  SampleTime		  "-1"
	  DataType		  "auto"
	  SignalType		  "auto"
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "pitch"
	  Position		  [25, 68, 55, 82]
	  Port			  "2"
	  PortWidth		  "-1"
	  SampleTime		  "-1"
	  DataType		  "auto"
	  SignalType		  "auto"
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "yaw"
	  Position		  [25, 103, 55, 117]
	  Port			  "3"
	  PortWidth		  "-1"
	  SampleTime		  "-1"
	  DataType		  "auto"
	  SignalType		  "auto"
	  Interpolate		  on
	}
	Block {
	  BlockType		  MATLABFcn
	  Name			  "MATLAB Fcn"
	  Position		  [120, 60, 180, 90]
	  MATLABFcn		  "reshape(rpy2tr(u),1,16)"
	  OutputWidth		  "16"
	  OutputSignalType	  "auto"
	}
	Block {
	  BlockType		  Mux
	  Name			  "Mux"
	  Ports			  [3, 1, 0, 0, 0]
	  Position		  [85, 20, 90, 130]
	  ShowName		  off
	  Inputs		  "3"
	  DisplayOption		  "bar"
	}
	Block {
	  BlockType		  Outport
	  Name			  "T"
	  Position		  [225, 68, 255, 82]
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Line {
	  SrcBlock		  "yaw"
	  SrcPort		  1
	  DstBlock		  "Mux"
	  DstPort		  3
	}
	Line {
	  SrcBlock		  "MATLAB Fcn"
	  SrcPort		  1
	  DstBlock		  "T"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Mux"
	  SrcPort		  1
	  DstBlock		  "MATLAB Fcn"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "roll"
	  SrcPort		  1
	  DstBlock		  "Mux"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "pitch"
	  SrcPort		  1
	  DstBlock		  "Mux"
	  DstPort		  2
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "tr2diff"
      Ports		      [2, 1, 0, 0, 0]
      Position		      [530, 262, 580, 318]
      BackgroundColor	      "red"
      ShowPortLabels	      on
      MaskDescription	      "Robot forward kinematics."
      MaskHelp		      "Compute homogeneous transform for robot end-eff"
"ector given joint angles."
      MaskPromptString	      "Robot object"
      MaskStyleString	      "edit"
      MaskTunableValueString  "on"
      MaskEnableString	      "on"
      MaskVisibilityString    "on"
      MaskVariables	      "robot=@1;"
      MaskDisplay	      "port_label('input', 1, 'T1')\nport_label('input"
"', 2, 'T2')\nport_label('output', 1, 'dx')\n\n"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "normalized"
      MaskValueString	      "robot"
      System {
	Name			"tr2diff"
	Location		[150, 346, 514, 495]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	AutoZoom		on
	Block {
	  BlockType		  Inport
	  Name			  "T1"
	  Position		  [45, 38, 75, 52]
	  Port			  "1"
	  PortWidth		  "-1"
	  SampleTime		  "-1"
	  DataType		  "auto"
	  SignalType		  "auto"
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "T2"
	  Position		  [50, 78, 80, 92]
	  Port			  "2"
	  PortWidth		  "-1"
	  SampleTime		  "-1"
	  DataType		  "auto"
	  SignalType		  "auto"
	  Interpolate		  on
	}
	Block {
	  BlockType		  MATLABFcn
	  Name			  "MATLAB Fcn"
	  Position		  [165, 40, 225, 70]
	  MATLABFcn		  "tr2diff(reshape(u(1:16),4,4), reshape(u(17:"
"32),4,4))"
	  OutputWidth		  "6"
	  OutputSignalType	  "auto"
	}
	Block {
	  BlockType		  Mux
	  Name			  "Mux"
	  Ports			  [2, 1, 0, 0, 0]
	  Position		  [125, 36, 130, 74]
	  ShowName		  off
	  Inputs		  "2"
	  DisplayOption		  "bar"
	}
	Block {
	  BlockType		  Outport
	  Name			  "dx"
	  Position		  [250, 48, 280, 62]
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Line {
	  SrcBlock		  "MATLAB Fcn"
	  SrcPort		  1
	  Points		  [0, 0]
	  DstBlock		  "dx"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "T1"
	  SrcPort		  1
	  DstBlock		  "Mux"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "T2"
	  SrcPort		  1
	  Points		  [25, 0]
	  DstBlock		  "Mux"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "Mux"
	  SrcPort		  1
	  DstBlock		  "MATLAB Fcn"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "xyz2T"
      Ports		      [3, 1, 0, 0, 0]
      Position		      [625, 78, 675, 132]
      BackgroundColor	      "red"
      ShowPortLabels	      on
      MaskDescription	      "Convert xyz scalars to transform."
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "normalized"
      System {
	Name			"xyz2T"
	Location		[167, 513, 531, 662]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	AutoZoom		on
	Block {
	  BlockType		  Inport
	  Name			  "x"
	  Position		  [25, 33, 55, 47]
	  Port			  "1"
	  PortWidth		  "-1"
	  SampleTime		  "-1"
	  DataType		  "auto"
	  SignalType		  "auto"
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "y"
	  Position		  [25, 68, 55, 82]
	  Port			  "2"
	  PortWidth		  "-1"
	  SampleTime		  "-1"
	  DataType		  "auto"
	  SignalType		  "auto"
	  Interpolate		  on
	}
	Block {
	  BlockType		  Inport
	  Name			  "z"
	  Position		  [25, 103, 55, 117]
	  Port			  "3"
	  PortWidth		  "-1"
	  SampleTime		  "-1"
	  DataType		  "auto"
	  SignalType		  "auto"
	  Interpolate		  on
	}
	Block {
	  BlockType		  MATLABFcn
	  Name			  "MATLAB Fcn"
	  Position		  [120, 60, 180, 90]
	  MATLABFcn		  "reshape(transl(u),1,16)"
	  OutputWidth		  "16"
	  OutputSignalType	  "auto"
	}
	Block {
	  BlockType		  Mux
	  Name			  "Mux"
	  Ports			  [3, 1, 0, 0, 0]
	  Position		  [85, 20, 90, 130]
	  ShowName		  off
	  Inputs		  "3"
	  DisplayOption		  "bar"
	}
	Block {
	  BlockType		  Outport
	  Name			  "T"
	  Position		  [225, 68, 255, 82]
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "[]"
	}
	Line {
	  SrcBlock		  "y"
	  SrcPort		  1
	  DstBlock		  "Mux"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "x"
	  SrcPort		  1
	  DstBlock		  "Mux"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Mux"
	  SrcPort		  1
	  DstBlock		  "MATLAB Fcn"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "MATLAB Fcn"
	  SrcPort		  1
	  DstBlock		  "T"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "z"
	  SrcPort		  1
	  DstBlock		  "Mux"
	  DstPort		  3
	}
      }
    }
    Annotation {
      Position		      [268, 24]
      BackgroundColor	      "lightBlue"
      Text		      "Robotics Toolbox for Matlab (release 7)"
      FontName		      "new century schoolbook"
      FontSize		      24
      FontWeight	      "bold"
    }
    Annotation {
      Position		      [245, 216]
      Text		      "TODO\n"
    }
    Annotation {
      Position		      [90, 330]
      Text		      "Copyright (c) 2002 Peter Corke"
    }
    Annotation {
      Position		      [72, 62]
      BackgroundColor	      "lightBlue"
      Text		      "Dynamics"
      FontName		      "helvetica"
      FontSize		      12
      FontWeight	      "bold"
    }
    Annotation {
      Position		      [232, 57]
      BackgroundColor	      "lightBlue"
      Text		      "Graphics"
      FontName		      "helvetica"
      FontSize		      12
      FontWeight	      "bold"
    }
    Annotation {
      Position		      [492, 57]
      BackgroundColor	      "lightBlue"
      Text		      "Kinematics"
      FontName		      "helvetica"
      FontSize		      12
      FontWeight	      "bold"
    }
    Annotation {
      Position		      [692, 57]
      BackgroundColor	      "lightBlue"
      Text		      "Transform conversion"
      FontName		      "helvetica"
      FontSize		      12
      FontWeight	      "bold"
    }
    Annotation {
      Position		      [342, 62]
      BackgroundColor	      "lightBlue"
      Text		      "Trajectory"
      FontName		      "helvetica"
      FontSize		      12
      FontWeight	      "bold"
    }
  }
}
